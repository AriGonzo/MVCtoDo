<!doctype html>
<html lang="en" data-framework="jquery">
	<head>
		<meta charset="utf-8">
		<title>jQuery • TodoMVC</title>
		<link rel="stylesheet" href="base.css">
		<link rel="stylesheet" href="app.css">
	</head>

	<body>
		<section id="todoapp">
			<header id="header">
				<h1>todos</h1>

				<!-- Input for new Task -->
				<input id="new-todo" placeholder="What needs to be done?">

			</header>

			<section id="main">

				<!--chevron for toggle-all -->
				<input id="toggle-all" type="checkbox">
				<label for="toggle-all">Mark all as complete</label>

				<!--List of Tasks-->
				<ul id="todo-list">
				<!-- These are here just to show the structure of the list items -->
				<!-- List items should get the class `editing` when editing and `completed` when marked as completed -->
				<li class="completed">
					<div class="view">
						<input class="toggle" type="checkbox" checked>
						<label>Create a TodoMVC template</label>
						<button class="destroy"></button>
					</div>
					<input class="edit" value="Create a TodoMVC template">
				</li>
				<li>
					<div class="view">
						<input class="toggle" type="checkbox">
						<label>Rule the web</label>
						<button class="destroy"></button>
					</div>
					<input class="edit" value="Rule the web">
				</li>
			</ul>
		</section>
		<!-- This footer should hidden by default and shown when there are todos -->
		<footer id="footer">
		<!-- This should be `0 items left` by default -->
		<span id="todo-count"><strong>1</strong> item left</span>
	<!-- Remove this if you don't implement routing -->
		<ul id="filters">
			<li>
				<a class="selected" href="#/">All</a>
			</li>
			<li>
				<a href="#/active">Active</a>
			</li>
			<li>
				<a href="#/completed">Completed</a>
			</li>
		</ul>
	<!-- Hidden if no completed items are left ↓ -->
		<button id="clear-completed">Clear completed (1)</button>
	</footer>
	</section>
	<footer id="info">
	<p>Double-click to edit a todo</p>
<!-- Remove the below line ↓ -->
	<p>Template by <a href="http://github.com/sindresorhus">Sindre Sorhus</a></p>
<!-- Change this out with your name and url ↓ -->
	<p>Created by <a href="http://todomvc.com">you</a></p>
	<p>Part of <a href="http://todomvc.com">TodoMVC</a></p>
	</footer>
<!-- Scripts here. Don't remove this ↓ -->
<script src="bower_components/todomvc-common/base.js"></script>
<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="scripts.js"></script>
<!--When editing mode is activated it will hide the other controls and bring
forward an input that contains the todo title, which should be focused
(.focus()). The edit should be saved on both blur and enter, and the editing
class should be removed. Make sure to .trim() the input and then check that
it's not empty. If it's empty the todo should instead be destroyed. If
escape is pressed during the edit, the edit state should be left and any
changes be discarded. -->

<script>
	//$('#new-todo').on('addTask', function(){
		$('#todo-list').on('dblclick', '.view label', function(e) {
				//.children().replaceWith( "<label>" + $('input.edit').val() + "</label>");
			//$( this ).closest("li").addClass('editing').find(".edit label");
			$editInput = $( e.target ).closest('li').addClass('editing').find('.edit');
			$editInput.html($('.editing label').val());
			$editInput.focus();
		});
		$("#todo-list").on("keyup", ".edit", function (e) {
			if (e.keyCode == 13) {
				$( '.editing label' ).html($editInput.val().trim());
				$( '.editing' ).removeClass('editing');
				if ($editInput.val().trim().length == 0) {
					$( e.target ).closest('li').remove();
				}
			}
		});
		$(".edit").focusout(function() {
					var $toDo = $('#todo-list')
					$( '.editing label' ).html($editInput.val().trim());
					$( '.editing' ).removeClass('editing');
					if ($editInput.val().trim().length == 0) {
						$( this.$toDo ).closest('li').remove();
					}
				});



	/*$('.edit').keydown(function(e) {
		if (e.keyCode == 13) {
				$('input.edit').replaceWith( "<label>" + $('input.edit').html() + "</label>");
		};
	});

	$editInput.bind("editText",function(){
		if ($editInput.val().trim().length > 0 ){
			$(editInput).remove();
			};
			$( this ).replaceWith( "<label>" + $( this ).html() + "</label>" );
	});*/
</script>

	</body>
</html>
